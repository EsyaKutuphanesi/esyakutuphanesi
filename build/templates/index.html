{% from "security/_macros.html" import render_field_with_errors, render_field %}
{% extends "layout.html" %}
{%block title%}Esya Kutuphanesi{%endblock%}
{% block content %}
    <div class="row">
        <div class="col-md-4"></div>
        <div class="col-md-4">
            <h1>Esya Kutuphanesi 2.0</h1>
            {%if user.is_authenticated()%}
                <h2>Welcome</h2>
            <form action="{{url_for('search')}}" method="get">
                {{ render_field_with_errors(form.stuff) }}
                {{ render_field_with_errors(form.address) }}
                {{ render_field(form.submit) }}
            </form>
            {%endif%}
        </div>
        <div class="col-md-4"></div>
    </div>
    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <h3>Son Paylaşılanlar:</h3>
            {% for obj in last_objects%}
                <div class="col-md-4">
                    <div class="row">
                      <a href="{{obj.url}}"> {{obj}}</a>
                    </div>
                    <div class="row">
                      {{obj.detail}}
                    </div>
                </div>
            {%endfor%}
        </div>
        <div class="col-md-2"></div>
    </div>
{% endblock %}

